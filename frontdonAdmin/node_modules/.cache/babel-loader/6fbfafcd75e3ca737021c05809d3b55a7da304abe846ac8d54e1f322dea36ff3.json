{"ast":null,"code":"// import { useState, useEffect,useContext } from \"react\";\n// import AuthContext from '../session';\n// import axios from \"axios\";\n// function Table() {\n//   let { authTokens,logout } = useContext(AuthContext);\n//   const [donateur, setDonateurs] = useState([]);\n//   const [wilayas, setWilayas] = useState([]);\n//   const [sangs, setSangs] = useState([]);\n//   const [filtreTypeSang, setFiltreTypeSang] = useState(\"\");\n//   const [filtreWilaya, setFiltreWilaya] = useState(\"\");\n\n//   useEffect(() => {\n\n//     fetchWilayas();\n//     fetchSangs();\n//     fetchDonateurs();\n//   }, []);\n\n//   const fetchSangs = async () => {\n//     const response = await fetch(\"http://127.0.0.1:8000/sang/\");\n//     const data = await response.json();\n//     setSangs(data);\n//   };\n\n//   const fetchWilayas = async () => {\n//     const response = await fetch(\"http://127.0.0.1:8000/wilaya/\");\n//     const data = await response.json();\n//     setWilayas(data);\n//   };\n\n//   const fetchDonateurs = async () => {\n\n//       const acces = \"Bearer \" + String(authTokens.token);\n\n//       const response = await fetch(\"http://127.0.0.1:8000/liste/\",{\n//         method: \"GET\",\n//         headers: {\n//           Authorization: acces,\n//         },\n\n//         credentials: \"include\",\n\n//       });\n//       const data = await response.json();\n//       if(response.status === 200){\n//         setDonateurs(data);\n//       }else{\n//          logout();\n//       }\n\n//   };\n\n//   const filterDonateurs = () => {\n//     if (!Array.isArray(donateur)) {\n//       return []; // Retourner un tableau vide si donateur n'est pas un tableau\n//     }\n\n//     let filteredDonateurs = [...donateur];\n//     if (filtreTypeSang) {\n//       filteredDonateurs = filteredDonateurs.filter(\n//         (donateur) => donateur.type_sang === filtreTypeSang\n//       );\n//     }\n//     if (filtreWilaya) {\n//       filteredDonateurs = filteredDonateurs.filter(\n//         (donateur) => donateur.wilaya === filtreWilaya\n//       );\n//     }\n//     return filteredDonateurs;\n//   };\n\n//   return (\n//     <section className=\"py-1 bg-blueGray-50\">\n//       <h3 className=\"flex items-center text-3xl font-extrabold m-7\">\n//         Les Donateurs\n//       </h3>\n//       <div className=\"w-full xl:w-11/12 mb-12 xl:mb-0 px-4 mx-auto mt-24\">\n//         <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 -lg rounded \">\n//           <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n//             <div className=\"flex flex-wrap items-center\">\n//               <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\n//                 <h3 className=\"font-semibold text-base text-blueGray-700\">\n//                   Filtrer Les Donateurs Par :\n//                 </h3>\n//               </div>\n//               <div className=\"relative w-full px-4 max-w-full flex-grow flex-1 text-right\">\n//                 <div className=\"flex justify-between\">\n//                   <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\n//                     {/* <label\n//                       for=\"sang\"\n//                       class=\"block mb-2 text-sm font-medium text-gray-900 \"\n//                     >\n//                       Recherche par Type de sang\n//                     </label> */}\n//                     <select\n//                       id=\"sang\"\n//                       value={filtreTypeSang}\n//                       onChange={(event) =>\n//                         setFiltreTypeSang(event.target.value)\n//                       }\n//                       className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n//                     >\n//                       <option value=\"\"> </option>\n//                       {sangs.map((sang) => (\n//                         <option key={sang.id} value={sang.nom}>\n//                           {sang.nom}\n//                         </option>\n//                       ))}\n//                       {/* Ajoutez d'autres options selon vos besoins */}\n//                     </select>\n//                   </div>\n//                   <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\n//                     {/* <label\n//                       for=\"wilaya\"\n//                       class=\"block mb-2 text-sm font-medium text-gray-900 \"\n//                     >\n//                       Recherche par wilaya\n//                     </label> */}\n//                     <select\n//                       id=\"sang\"\n//                       value={filtreTypeSang}\n//                       onChange={(event) => setFiltreWilaya(event.target.value)}\n//                       className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n//                     >\n//                       <option value=\"\">Toutes Les Wilayas</option>\n//                       {wilayas.map((wilaya) => (\n//                         <option key={wilaya.id} value={wilaya.nom}>\n//                           {wilaya.nom}\n//                         </option>\n//                       ))}\n//                       {/* Ajoutez d'autres options selon vos besoins */}\n//                     </select>\n//                   </div>\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//           <div className=\"px-4 py-3 border-b border-blueGray-200 bg-white rounded-t\">\n//             <br />\n//           </div>\n\n//           <div className=\"block w-full overflow-x-auto\">\n//             <table className=\"items-center bg-transparent w-full border-collapse \">\n//               <thead>\n//                 <tr>\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n//                     Nom\n//                   </th>\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n//                     Date de Naissance\n//                   </th>\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n//                     Telephone\n//                   </th>\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n//                     Email\n//                   </th>\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n//                     Type de Sang\n//                   </th>\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n//                     Wilaya\n//                   </th>\n\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n//                     Action\n//                   </th>\n//                 </tr>\n//               </thead>\n\n//               <tbody>\n//                 {filterDonateurs().map((donateurs) => (\n//                   <tr key={donateurs.id_d}>\n//                     <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left text-blueGray-700 \">\n//                       {donateurs.first_name} {donateurs.last_name}\n//                     </th>\n//                     <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 \">\n//                       {donateurs.date_naissance}\n//                     </td>\n//                     <td className=\"border-t-0 px-6 align-center border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">\n//                       {donateurs.tel}\n//                     </td>\n//                     <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">\n//                       <i className=\"fas fa-arrow-up text-emerald-500 mr-4\"></i>\n//                       {donateurs.email}\n//                     </td>\n//                     <td className=\"border-t-0 px-6 align-center border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">\n//                       {donateurs.wilaya}\n//                     </td>\n//                     <td className=\"border-t-0 px-6 align-center border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">\n//                       {donateurs.type_sang}\n//                     </td>\n//                   </tr>\n//                 ))}\n//               </tbody>\n//             </table>\n//           </div>\n//         </div>\n//       </div>\n//     </section>\n//   );\n// }\n\n// export default Table;","map":{"version":3,"names":[],"sources":["C:/Users/hp/Desktop/frontend/frontdon - Admin/src/Table/tabledon.js"],"sourcesContent":["// import { useState, useEffect,useContext } from \"react\";\r\n// import AuthContext from '../session';\r\n// import axios from \"axios\";\r\n// function Table() {\r\n//   let { authTokens,logout } = useContext(AuthContext);\r\n//   const [donateur, setDonateurs] = useState([]);\r\n//   const [wilayas, setWilayas] = useState([]);\r\n//   const [sangs, setSangs] = useState([]);\r\n//   const [filtreTypeSang, setFiltreTypeSang] = useState(\"\");\r\n//   const [filtreWilaya, setFiltreWilaya] = useState(\"\");\r\n\r\n//   useEffect(() => {\r\n    \r\n//     fetchWilayas();\r\n//     fetchSangs();\r\n//     fetchDonateurs();\r\n//   }, []);\r\n\r\n//   const fetchSangs = async () => {\r\n//     const response = await fetch(\"http://127.0.0.1:8000/sang/\");\r\n//     const data = await response.json();\r\n//     setSangs(data);\r\n//   };\r\n\r\n//   const fetchWilayas = async () => {\r\n//     const response = await fetch(\"http://127.0.0.1:8000/wilaya/\");\r\n//     const data = await response.json();\r\n//     setWilayas(data);\r\n//   };\r\n  \r\n//   const fetchDonateurs = async () => {\r\n  \r\n//       const acces = \"Bearer \" + String(authTokens.token);\r\n      \r\n//       const response = await fetch(\"http://127.0.0.1:8000/liste/\",{\r\n//         method: \"GET\",\r\n//         headers: {\r\n//           Authorization: acces,\r\n//         },\r\n\r\n//         credentials: \"include\",\r\n      \r\n//       });\r\n//       const data = await response.json();\r\n//       if(response.status === 200){\r\n//         setDonateurs(data);\r\n//       }else{\r\n//          logout();\r\n//       }\r\n      \r\n\r\n    \r\n//   };\r\n\r\n//   const filterDonateurs = () => {\r\n//     if (!Array.isArray(donateur)) {\r\n//       return []; // Retourner un tableau vide si donateur n'est pas un tableau\r\n//     }\r\n  \r\n//     let filteredDonateurs = [...donateur];\r\n//     if (filtreTypeSang) {\r\n//       filteredDonateurs = filteredDonateurs.filter(\r\n//         (donateur) => donateur.type_sang === filtreTypeSang\r\n//       );\r\n//     }\r\n//     if (filtreWilaya) {\r\n//       filteredDonateurs = filteredDonateurs.filter(\r\n//         (donateur) => donateur.wilaya === filtreWilaya\r\n//       );\r\n//     }\r\n//     return filteredDonateurs;\r\n//   };\r\n\r\n//   return (\r\n//     <section className=\"py-1 bg-blueGray-50\">\r\n//       <h3 className=\"flex items-center text-3xl font-extrabold m-7\">\r\n//         Les Donateurs\r\n//       </h3>\r\n//       <div className=\"w-full xl:w-11/12 mb-12 xl:mb-0 px-4 mx-auto mt-24\">\r\n//         <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 -lg rounded \">\r\n//           <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n//             <div className=\"flex flex-wrap items-center\">\r\n//               <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\r\n//                 <h3 className=\"font-semibold text-base text-blueGray-700\">\r\n//                   Filtrer Les Donateurs Par :\r\n//                 </h3>\r\n//               </div>\r\n//               <div className=\"relative w-full px-4 max-w-full flex-grow flex-1 text-right\">\r\n//                 <div className=\"flex justify-between\">\r\n//                   <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\r\n//                     {/* <label\r\n//                       for=\"sang\"\r\n//                       class=\"block mb-2 text-sm font-medium text-gray-900 \"\r\n//                     >\r\n//                       Recherche par Type de sang\r\n//                     </label> */}\r\n//                     <select\r\n//                       id=\"sang\"\r\n//                       value={filtreTypeSang}\r\n//                       onChange={(event) =>\r\n//                         setFiltreTypeSang(event.target.value)\r\n//                       }\r\n//                       className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n//                     >\r\n//                       <option value=\"\"> </option>\r\n//                       {sangs.map((sang) => (\r\n//                         <option key={sang.id} value={sang.nom}>\r\n//                           {sang.nom}\r\n//                         </option>\r\n//                       ))}\r\n//                       {/* Ajoutez d'autres options selon vos besoins */}\r\n//                     </select>\r\n//                   </div>\r\n//                   <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\r\n//                     {/* <label\r\n//                       for=\"wilaya\"\r\n//                       class=\"block mb-2 text-sm font-medium text-gray-900 \"\r\n//                     >\r\n//                       Recherche par wilaya\r\n//                     </label> */}\r\n//                     <select\r\n//                       id=\"sang\"\r\n//                       value={filtreTypeSang}\r\n//                       onChange={(event) => setFiltreWilaya(event.target.value)}\r\n//                       className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n//                     >\r\n//                       <option value=\"\">Toutes Les Wilayas</option>\r\n//                       {wilayas.map((wilaya) => (\r\n//                         <option key={wilaya.id} value={wilaya.nom}>\r\n//                           {wilaya.nom}\r\n//                         </option>\r\n//                       ))}\r\n//                       {/* Ajoutez d'autres options selon vos besoins */}\r\n//                     </select>\r\n//                   </div>\r\n//                 </div>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//           <div className=\"px-4 py-3 border-b border-blueGray-200 bg-white rounded-t\">\r\n//             <br />\r\n//           </div>\r\n\r\n//           <div className=\"block w-full overflow-x-auto\">\r\n//             <table className=\"items-center bg-transparent w-full border-collapse \">\r\n//               <thead>\r\n//                 <tr>\r\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\r\n//                     Nom\r\n//                   </th>\r\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\r\n//                     Date de Naissance\r\n//                   </th>\r\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\r\n//                     Telephone\r\n//                   </th>\r\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\r\n//                     Email\r\n//                   </th>\r\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\r\n//                     Type de Sang\r\n//                   </th>\r\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\r\n//                     Wilaya\r\n//                   </th>\r\n\r\n//                   <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\r\n//                     Action\r\n//                   </th>\r\n//                 </tr>\r\n//               </thead>\r\n\r\n//               <tbody>\r\n//                 {filterDonateurs().map((donateurs) => (\r\n//                   <tr key={donateurs.id_d}>\r\n//                     <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left text-blueGray-700 \">\r\n//                       {donateurs.first_name} {donateurs.last_name}\r\n//                     </th>\r\n//                     <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 \">\r\n//                       {donateurs.date_naissance}\r\n//                     </td>\r\n//                     <td className=\"border-t-0 px-6 align-center border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">\r\n//                       {donateurs.tel}\r\n//                     </td>\r\n//                     <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">\r\n//                       <i className=\"fas fa-arrow-up text-emerald-500 mr-4\"></i>\r\n//                       {donateurs.email}\r\n//                     </td>\r\n//                     <td className=\"border-t-0 px-6 align-center border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">\r\n//                       {donateurs.wilaya}\r\n//                     </td>\r\n//                     <td className=\"border-t-0 px-6 align-center border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">\r\n//                       {donateurs.type_sang}\r\n//                     </td>\r\n//                   </tr>\r\n//                 ))}\r\n//               </tbody>\r\n//             </table>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </section>\r\n//   );\r\n// }\r\n\r\n// export default Table;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}